{"version":3,"sources":["webpack:///./src/lib/leancloud.js","webpack:///src/components/loginBar.vue","webpack:///./src/components/loginBar.vue?9053","webpack:///./src/components/loginBar.vue","webpack:///./src/main.js"],"names":["av_min_default","a","init","appId","appKey","leancloud","loginBar","data","formData","account","password","actionType","currentUser","methods","signUp","user","User","setUsername","this","setPassword","then","getCurrentUser","login","_this","logIn","$emit","error","console","log","_AV$User$current","current","id","createdAt","username","attributes","signOut","logOut","window","location","reload","components_loginBar","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","on","click","$event","attrs","href","for","directives","name","rawName","value","expression","type","domProps","input","target","composing","$set","staticRenderFns","src_components_loginBar","__webpack_require__","normalizeComponent","ssrContext","filters","all","todos","active","filter","todo","completed","app","vue_esm","el","inputValue","todoList","editTodo","hashname","todoId","components","computed","remain","length","isCompleted","isAll","get","set","val","forEach","filterTodoList","created","onbeforeunload","dataString","stringify_default","localStorage","setItem","oldDataString","getItem","JSON","parse","removeTodo","index","splice","saveOrUpdateTodo","addTodo","push","content","editing","item","editCache","editOK","editNo","updateTodo","Object","createWithoutData","save","saveTodo","_this2","todoFolder","extend","acl","ACL","setReadAccess","setWriteAccess","setACL","receiveCurrentUser","_this3","Query","find","tododata","err","focus","onhashchange","hash","replace"],"mappings":"0OAKAA,EAAAC,EAAGC,MACDC,MAJY,oCAKZC,OAJa,6BAOf,IAAAC,EAAeL,EAAf,ECoCAM,cACAC,KADA,WAEA,OACAC,UACAC,QAAA,GACAC,SAAA,IAEAC,WAAA,QACAC,YAAA,OAGAC,SACAC,OADA,WAEA,IAAAC,EAAA,IAAAV,EAAAW,KACAD,EAAAE,YAAAC,KAAAV,SAAAC,SACAM,EAAAI,YAAAD,KAAAV,SAAAE,UACAK,EAAAD,SAAAM,KAAA,SAAAL,GACAG,KAAAN,YAAAM,KAAAG,oBAGAC,MATA,WASA,IAAAC,EAAAL,KACAb,EAAAW,KAAAQ,MAAAN,KAAAV,SAAAC,QAAAS,KAAAV,SAAAE,UAAAU,KACA,SAAAL,GACAQ,EAAAX,YAAAW,EAAAF,iBACAE,EAAAE,MAAA,QAAAF,EAAAX,cAEA,SAAAc,GACAC,QAAAC,IAAAF,MAIAL,eApBA,WAoBA,IAAAQ,EACAxB,EAAAW,KAAAc,UACA,OAAAC,GAFAF,EACAE,GACAC,UAFAH,EACAG,UACAC,SAFAJ,EACAK,WAAAD,WAGAE,QAxBA,WAyBA9B,EAAAW,KAAAoB,SACAlB,KAAAN,YAAA,KACAyB,OAAAC,SAAAC,aCjFAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBL,EAAA,YAAAG,EAAA,OAA8BE,YAAA,aAAuBL,EAAAM,GAAA,eAAAN,EAAAO,GAAAP,EAAA9B,YAAAqB,UAAA,UAAAY,EAAA,UAAgFE,YAAA,4BAAAG,IAA4CC,MAAA,SAAAC,GAAyBV,EAAAP,cAAgBU,EAAA,KAAUE,YAAA,wBAAkCL,EAAAM,GAAA,wBAAAH,EAAA,OAA2CE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,mCAA6CF,EAAA,MAAWE,YAAA,mBAA6BF,EAAA,MAAWE,YAAA,mBAA6BF,EAAA,KAAUE,YAAA,iBAAAM,OAAoCC,KAAA,KAAWJ,IAAKC,MAAA,SAAAC,GAAyBV,EAAA/B,WAAA,YAA2B+B,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAwCE,YAAA,mBAA6BF,EAAA,KAAUE,YAAA,iBAAAM,OAAoCC,KAAA,KAAWJ,IAAKC,MAAA,SAAAC,GAAyBV,EAAA/B,WAAA,aAA4B+B,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA6CE,YAAA,cAAwB,UAAAL,EAAA/B,WAAAkC,EAAA,WAAAA,EAAA,SAAyDQ,OAAOE,IAAA,MAAUb,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,SAAyCW,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAjB,EAAAlC,SAAA,QAAAoD,WAAA,qBAA0FP,OAASQ,KAAA,QAAcC,UAAWH,MAAAjB,EAAAlC,SAAA,SAA+B0C,IAAKa,MAAA,SAAAX,GAAyBA,EAAAY,OAAAC,WAAsCvB,EAAAwB,KAAAxB,EAAAlC,SAAA,UAAA4C,EAAAY,OAAAL,WAAyDjB,EAAAM,GAAA,KAAAH,EAAA,SAA0BQ,OAAOE,IAAA,MAAUb,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,SAAyCW,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAjB,EAAAlC,SAAA,SAAAoD,WAAA,sBAA4FP,OAASQ,KAAA,YAAkBC,UAAWH,MAAAjB,EAAAlC,SAAA,UAAgC0C,IAAKa,MAAA,SAAAX,GAAyBA,EAAAY,OAAAC,WAAsCvB,EAAAwB,KAAAxB,EAAAlC,SAAA,WAAA4C,EAAAY,OAAAL,WAA0DjB,EAAAM,GAAA,KAAAH,EAAA,UAA2BE,YAAA,cAAAM,OAAiCQ,KAAA,UAAgBX,IAAKC,MAAA,SAAAC,GAAyBV,EAAApB,YAAcuB,EAAA,KAAUE,YAAA,uBAAiCL,EAAAM,GAAA,gCAAAH,EAAA,WAAAA,EAAA,SAAmEQ,OAAOE,IAAA,MAAUb,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,SAAyCW,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAjB,EAAAlC,SAAA,QAAAoD,WAAA,qBAA0FP,OAASQ,KAAA,QAAcC,UAAWH,MAAAjB,EAAAlC,SAAA,SAA+B0C,IAAKa,MAAA,SAAAX,GAAyBA,EAAAY,OAAAC,WAAsCvB,EAAAwB,KAAAxB,EAAAlC,SAAA,UAAA4C,EAAAY,OAAAL,WAAyDjB,EAAAM,GAAA,KAAAH,EAAA,SAA0BQ,OAAOE,IAAA,MAAUb,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,SAAyCW,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAjB,EAAAlC,SAAA,SAAAoD,WAAA,sBAA4FP,OAASQ,KAAA,YAAkBC,UAAWH,MAAAjB,EAAAlC,SAAA,UAAgC0C,IAAKa,MAAA,SAAAX,GAAyBA,EAAAY,OAAAC,WAAsCvB,EAAAwB,KAAAxB,EAAAlC,SAAA,WAAA4C,EAAAY,OAAAL,WAA0DjB,EAAAM,GAAA,KAAAH,EAAA,UAA2BE,YAAA,cAAAM,OAAiCQ,KAAA,UAAgBX,IAAKC,MAAA,SAAAC,GAAyBV,EAAA5B,aAAe+B,EAAA,KAAUE,YAAA,qBAA+BL,EAAAM,GAAA,uCAE9yFmB,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,CACAhE,EACAkC,GATA,EAVA,SAAA+B,GACAF,EAAA,SAaA,kBAEA,MAUA,QCnBIG,GACFC,IADY,SACRC,GACF,OAAOA,GAETC,OAJY,SAILD,GACL,OAAOA,EAAME,OAAO,SAAAC,GAAA,OAA4B,IAAnBA,EAAKC,aAEpCA,UAPY,SAOFJ,GACR,OAAOA,EAAME,OAAO,SAAAC,GAAA,OAA2B,IAAnBA,EAAKC,cAIjCC,EAAM,IAAIC,EAAA,GACZC,GAAI,WACJ1E,MACE2E,WAAY,GACZC,YACAC,SAAU,KACVC,SAAU,MACVzE,YAAa,KACb0E,OAAQ,IAEVC,YACEjF,SAAA8D,GAEFoB,UACEC,OADQ,WAEN,OAAOjB,EAAQG,OAAOzD,KAAKiE,UAAUO,QAEvCC,YAJQ,WAKN,OAAOnB,EAAQM,UAAU5D,KAAKiE,UAAUO,QAE1CE,OACEC,IAAK,WACH,OAAuB,IAAhB3E,KAAKuE,QAEdK,IAAK,SAAUC,GACb7E,KAAKiE,SAASa,QACZ,SAACnB,GACCA,EAAKC,UAAYiB,MAKzBE,eAnBQ,WAoBN,OAAOzB,EAAQtD,KAAKmE,UAAUnE,KAAKiE,YAGvCe,QApCgB,WAoCP,IAAA3E,EAAAL,KACPmB,OAAO8D,eAAgB,WACrB,IAAIC,EAAaC,IAAe9E,EAAK4D,UACrC9C,OAAOiE,aAAaC,QAAQ,OAAOH,IAErC,IAAII,EAAgBnE,OAAOiE,aAAaG,QAAQ,QAChDvF,KAAKiE,SAAWuB,KAAKC,MAAMH,QAE7B3F,SACE+F,WADO,SACIC,GACT3F,KAAKiE,SAAS2B,OAAOD,EAAO,GAC5B3F,KAAK6F,oBAEPC,QALO,SAKCrD,GACDzC,KAAKgE,aAGVhE,KAAKiE,SAAS8B,MAAOC,QAASvD,EAAOmB,WAAW,IAChD5D,KAAKgE,WAAa,GAClBhE,KAAK6F,qBAEPI,QAbO,SAaCC,GACNlG,KAAKmG,UAAYD,EAAKF,QACtBhG,KAAKkE,SAAWgC,GAElBE,OAjBO,SAiBAF,EAAKP,GACV3F,KAAKkE,SAAW,KACXgC,EAAKF,UACRhG,KAAK0F,WAAWC,GAChB3F,KAAK6F,qBAGTQ,OAxBO,SAwBAH,GACLlG,KAAKkE,SAAW,KAChBgC,EAAKF,QAAUhG,KAAKmG,WAEtBG,WAAY,WACV,IAAIpB,EAAaC,IAAenF,KAAKiE,UACjCT,EAAQrE,EAAGoH,OAAOC,kBAAkB,aAAaxG,KAAKoE,QAC1D3D,QAAQC,IAAIwE,GACZ1B,EAAMoB,IAAI,WAAWM,GACrB1B,EAAMiD,OAAOvG,KAAK,SAACyD,OAGrB+C,SApCO,WAoCG,IAAAC,EAAA3G,KACJkF,EAAaC,IAAenF,KAAKiE,UAEjC2C,EAAa,IADAzH,EAAGoH,OAAOM,OAAO,eAE9BC,EAAM,IAAI3H,EAAG4H,IACjBD,EAAIE,cAAc7H,EAAGW,KAAKc,WAAU,GACpCkG,EAAIG,eAAe9H,EAAGW,KAAKc,WAAU,GACrCgG,EAAWhC,IAAI,WAAWM,GAC1B0B,EAAWM,OAAOJ,GAClBF,EAAWH,OAAOvG,KAAK,SAACyD,GACtBgD,EAAKvC,OAAST,EAAK9C,GACnBJ,QAAQC,IAAI,MAAMiD,EAAK9C,GAAG8F,EAAK1C,aAGnC4B,iBAlDO,WAmDD7F,KAAKoE,OACPpE,KAAKsG,aAELtG,KAAK0G,YAGTS,mBAzDO,SAyDYtH,GAAK,IAAAuH,EAAApH,KACtBA,KAAKN,YAAcG,EACP,IAAIV,EAAGkI,MAAM,cACnBC,OACHpH,KAAK,SAACqH,GAEL,GADA9G,QAAQC,IAAI6G,GACRA,EAAS,CACX,IAAI/D,EAAQ+D,EAAS,GACrB9G,QAAQC,IAAI0G,GACZA,EAAKhD,OAASZ,EAAM3C,GACpBuG,EAAKnD,SAAWuB,KAAKC,MAAMjC,EAAMxC,WAAWiD,eAE5CxD,QAAQC,IAAI,OAEb,SAAS8G,GACV/G,QAAQC,IAAI8G,OAIpBlF,YACEmF,MADU,SACJ1D,EAAGtB,GACJA,EAAMA,OACPsB,EAAG0D,YAgBXtG,OAAOuG,aAVP,WACE,IAAIvD,EAAW/C,SAASuG,KAAKC,QAAQ,OAAO,IACxCtE,EAAQa,GACVN,EAAIM,SAAWA,GAEf/C,SAASuG,KAAO,GAChB9D,EAAIM,SAAW","file":"static/js/app.9f4f521e3dfdb0bd91e3.js","sourcesContent":["import AV from 'leancloud-storage'\n\nconst appId = 'jd2xAttuFp4kJrqPABqsnxYb-gzGzoHsz'\nconst appKey = 'GILnzxyfsTJem0lbn5n8PUT1'\n\nAV.init({\n  appId,\n  appKey\n})\n\nexport default AV\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/leancloud.js","<template>\n  <div class=\"login\">\n    <div class='userInfo' v-if=\"currentUser\">\n      üéâÁî®Êà∑ÂêçÔºö{{ currentUser.username}}\n      <button class=\"pure-button button-xsmall\" @click=\"signOut()\">\n        <i class=\"fas fa-sign-out-alt\"></i>\n        Ê≥®ÈîÄ\n      </button>\n    </div>\n    <div class='inputBox' v-else>\n      <div class=\"pure-menu pure-menu-horizontal\">\n        <ul class=\"pure-menu-list\">\n          <li class=\"pure-menu-item\"><a href=\"#\" class=\"pure-menu-link\" @click=\"actionType = 'login'\">ÁôªÂΩï</a></li>\n          <li class=\"pure-menu-item\"><a href=\"#\" class=\"pure-menu-link\" @click=\"actionType = 'signUp'\">Ê≥®ÂÜå</a></li>\n        </ul>\n      </div>\n\n      <div class=\"pure-form\">\n        <section v-if=\"actionType === 'login'\">\n          <label for=\"\">Â∏êÂè∑</label>\n          <input type=\"text\" v-model=\"formData.account\">\n          <label for=\"\">ÂØÜÁ†Å</label>\n          <input type=\"password\" v-model=\"formData.password\">\n          <button class=\"pure-button\" type=\"submit\" @click=\"login()\">\n            <i class=\"fas fa-sign-in-alt\"></i>\n            ÁôªÂΩï\n          </button>\n        </section>\n        <section v-else>\n          <label for=\"\">Â∏êÂè∑</label>\n          <input type=\"text\" v-model=\"formData.account\">\n          <label for=\"\">ÂØÜÁ†Å</label>\n          <input type=\"password\" v-model=\"formData.password\">\n          <button class=\"pure-button\" type=\"submit\" @click=\"signUp()\">\n            <i class=\"fas fa-user-plus\"></i>\n            Ê≥®ÂÜå\n          </button>\n        </section>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AV from \"../lib/leancloud\";\nimport pure from \"../assets/pure-min.css\"\nexport default {\n  data() {\n    return {\n      formData: {\n        account: \"\",\n        password: \"\"\n      },\n      actionType: \"login\",\n      currentUser: null\n    };\n  },\n  methods: {\n    signUp() {\n      let user = new AV.User();\n      user.setUsername(this.formData.account);\n      user.setPassword(this.formData.password);\n      user.signUp().then(function(user) {\n        this.currentUser = this.getCurrentUser();\n      });\n    },\n    login() {\n      AV.User.logIn(this.formData.account, this.formData.password).then(\n        user => {\n          this.currentUser = this.getCurrentUser();\n          this.$emit(\"hello\", this.currentUser);\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    getCurrentUser() {\n      let { id, createdAt, attributes: { username } } = AV.User.current();\n      return { id, createdAt, username };\n    },\n    signOut() {\n      AV.User.logOut();\n      this.currentUser = null;\n      window.location.reload();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login {\n  text-align: center;\n}\n.userInfo {\n  font-size: 18px;\n}\n\n.button-xsmall {\n  font-size: 80%;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/loginBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[(_vm.currentUser)?_c('div',{staticClass:\"userInfo\"},[_vm._v(\"\\n    üéâÁî®Êà∑ÂêçÔºö\"+_vm._s(_vm.currentUser.username)+\"\\n    \"),_c('button',{staticClass:\"pure-button button-xsmall\",on:{\"click\":function($event){_vm.signOut()}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\"\\n      Ê≥®ÈîÄ\\n    \")])]):_c('div',{staticClass:\"inputBox\"},[_c('div',{staticClass:\"pure-menu pure-menu-horizontal\"},[_c('ul',{staticClass:\"pure-menu-list\"},[_c('li',{staticClass:\"pure-menu-item\"},[_c('a',{staticClass:\"pure-menu-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.actionType = 'login'}}},[_vm._v(\"ÁôªÂΩï\")])]),_vm._v(\" \"),_c('li',{staticClass:\"pure-menu-item\"},[_c('a',{staticClass:\"pure-menu-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.actionType = 'signUp'}}},[_vm._v(\"Ê≥®ÂÜå\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"pure-form\"},[(_vm.actionType === 'login')?_c('section',[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Â∏êÂè∑\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.account),expression:\"formData.account\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.formData.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"account\", $event.target.value)}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"ÂØÜÁ†Å\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.password),expression:\"formData.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.formData.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"pure-button\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.login()}}},[_c('i',{staticClass:\"fas fa-sign-in-alt\"}),_vm._v(\"\\n          ÁôªÂΩï\\n        \")])]):_c('section',[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Â∏êÂè∑\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.account),expression:\"formData.account\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.formData.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"account\", $event.target.value)}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"ÂØÜÁ†Å\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.password),expression:\"formData.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.formData.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"pure-button\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.signUp()}}},[_c('i',{staticClass:\"fas fa-user-plus\"}),_vm._v(\"\\n          Ê≥®ÂÜå\\n        \")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ec738f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/loginBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ec738f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loginBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ec738f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loginBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ec738f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/loginBar.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport 'todomvc-app-css/index.css'\nimport loginBar from './components/loginBar.vue'\nimport AV from './lib/leancloud'\n\nlet filters = {\n  all(todos) {\n    return todos\n  },\n  active(todos) {\n    return todos.filter(todo => !todo.completed === true)\n  },\n  completed(todos) {\n    return todos.filter(todo => todo.completed === true)\n  }\n}\n\nlet app = new Vue({\n  el: '.todoapp',\n  data: {\n    inputValue: '',\n    todoList: [],\n    editTodo: null,\n    hashname: 'all',\n    currentUser: null,\n    todoId: '',\n  },\n  components:{\n    loginBar\n  },\n  computed: {\n    remain() {\n      return filters.active(this.todoList).length\n    },\n    isCompleted() {\n      return filters.completed(this.todoList).length\n    },\n    isAll: {\n      get: function () {\n        return this.remain === 0\n      },\n      set: function (val) {\n        this.todoList.forEach(\n          (todo) => {\n            todo.completed = val\n          }\n        )\n      }\n    },\n    filterTodoList(){\n      return filters[this.hashname](this.todoList)\n    }\n  },\n  created(){\n    window.onbeforeunload= ()=> {\n      let dataString = JSON.stringify(this.todoList)\n      window.localStorage.setItem('todo',dataString)\n    }\n    let oldDataString = window.localStorage.getItem('todo')\n    this.todoList = JSON.parse(oldDataString) || []\n  },\n  methods: {\n    removeTodo(index) {\n      this.todoList.splice(index, 1)\n      this.saveOrUpdateTodo()\n    },\n    addTodo(value) {\n      if (!this.inputValue){\n        return\n      }\n      this.todoList.push({ content: value, completed: false })\n      this.inputValue = ''\n      this.saveOrUpdateTodo()\n    },\n    editing(item) {\n      this.editCache = item.content\n      this.editTodo = item\n    },\n    editOK(item,index){\n      this.editTodo = null\n      if (!item.content){\n        this.removeTodo(index)\n        this.saveOrUpdateTodo()\n      }\n    },\n    editNo(item){\n      this.editTodo = null\n      item.content = this.editCache\n    },\n    updateTodo: function(){\n      var dataString = JSON.stringify(this.todoList)\n      var todos = AV.Object.createWithoutData('TodoFolder',this.todoId)\n      console.log(dataString)\n      todos.set('todoList',dataString)\n      todos.save().then((todo)=>{\n      })\n    },\n    saveTodo(){\n      let dataString = JSON.stringify(this.todoList)\n      var TodoFolder = AV.Object.extend('TodoFolder')\n      var todoFolder = new TodoFolder()\n      var acl = new AV.ACL()\n      acl.setReadAccess(AV.User.current(),true)\n      acl.setWriteAccess(AV.User.current(),true)\n      todoFolder.set('todoList',dataString)\n      todoFolder.setACL(acl)\n      todoFolder.save().then((todo)=> {\n        this.todoId = todo.id\n        console.log(\"‰øùÂ≠ò‰∫Ü\",todo.id,this.todoList)\n      })\n    },\n    saveOrUpdateTodo(){\n      if (this.todoId){\n        this.updateTodo()\n      } else {\n        this.saveTodo()\n      }\n    },\n    receiveCurrentUser(user){\n      this.currentUser = user\n      var query = new AV.Query('TodoFolder')\n      query.find()\n        .then((tododata)=>{\n          console.log(tododata)\n          if (tododata){\n            var todos = tododata[0]\n            console.log(this)\n            this.todoId = todos.id\n            this.todoList = JSON.parse(todos.attributes.todoList)\n          } else {\n            console.log('ÈîôËØØ')\n          }\n        }, function(err){\n          console.log(err)\n        })\n    }\n  },\n  directives: {\n    focus(el,value){\n      if(value.value){\n        el.focus()\n      }\n    }\n  }\n})\n\nfunction hasChange(){\n  let hashname = location.hash.replace(/#\\/?/,'')\n  if (filters[hashname]){\n    app.hashname = hashname\n  } else{\n    location.hash = ''\n    app.hashname = 'all'\n  }\n}\n\nwindow.onhashchange = hasChange\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}